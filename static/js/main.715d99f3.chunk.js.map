{"version":3,"sources":["components/Header.js","firebase.js","hooks/useFirestore.js","components/Post.js","components/ImagesContainer.js","hooks/useStorage.js","components/ProgressBar.js","components/UploadForm.js","components/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","appStorage","storage","appFirestore","firestore","timestamp","FieldValue","serverTimestamp","useFirestore","collection","useState","docs","setDocs","useEffect","unsubscribe","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id","Post","image","setSelectedImage","motion","div","onClick","layout","whileHover","opacity","img","src","alt","initial","animate","transition","delay","ImagesContainer","map","url","useStorage","file","progress","setProgress","error","setError","setUrl","storageRef","ref","name","collectionRef","put","on","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","uploadedUrl","add","ProgressBar","setFile","style","width","UploadForm","type","accept","onChange","e","selected","target","files","htmlFor","Modal","selectedImage","classList","contains","y","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.715d99f3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h1>PicoGram</h1>\r\n\t\t\t\t<h2>Your Pictures</h2>\r\n\t\t\t\t<p>Welcome</p>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import firebase from 'firebase/app'\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyDaJXzSKdEfw53lAYWXN_M0S-5AeDrYooc\",\r\n  authDomain: \"picogram-21aac.firebaseapp.com\",\r\n  projectId: \"picogram-21aac\",\r\n  storageBucket: \"picogram-21aac.appspot.com\",\r\n  messagingSenderId: \"33883810965\",\r\n  appId: \"1:33883810965:web:62f124df021bbdd1187f9c\"\r\n});\r\n\r\nconst appStorage = firebase.storage();\r\nconst appFirestore = app.firestore();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\nexport { appStorage, appFirestore, timestamp };","import { useState, useEffect } from 'react'\r\nimport { appFirestore } from '../firebase';\r\n\r\nconst useFirestore = (collection) => {\r\n\r\n\tconst [docs, setDocs] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = appFirestore.collection(collection)\r\n\t\t\t.orderBy('timestamp', 'desc')\r\n\t\t\t.onSnapshot(snap => {\r\n\t\t\t\tlet documents = [ ];\r\n\t\t\t\tsnap.forEach(doc => {\r\n\t\t\t\t\tdocuments.push({...doc.data(), id: doc.id})\r\n\t\t\t\t});\r\n\t\t\t\tsetDocs(documents);\r\n\t\t\t});\r\n\r\n\t\treturn () => unsubscribe();\r\n\r\n\t}, [collection])\r\n\r\n\treturn { docs }\r\n}\r\n\r\nexport default useFirestore","import { motion } from 'framer-motion';\r\n\r\nconst Post = ({image, setSelectedImage}) => {\r\n\treturn (\r\n\t\t<motion.div className=\"post\" onClick={()=> setSelectedImage(image)}\r\n\t\t\tlayout\r\n\t\t\twhileHover={{ opacity: 1 }}\r\n\t\t >\r\n\t\t\t<motion.img src={image} alt={image} className=\"post__image\"\r\n\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\ttransition={{ delay: 1 }}\r\n\t\t\t />\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n\r\nexport default Post","import useFirestore from '../hooks/useFirestore';\r\n\r\nimport Post from './Post';\r\n\r\nconst ImagesContainer = ({ setSelectedImage }) => {\r\n\r\n\tconst { docs } = useFirestore('images');\r\n\r\n\treturn (\r\n\t\t<div className=\"images-container container\">\r\n\t\t\t{docs.map(doc => <Post key={doc.id} image={doc.url} setSelectedImage={setSelectedImage} /> )}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ImagesContainer","import { useState, useEffect } from 'react';\r\nimport { appStorage, appFirestore, timestamp } from '../firebase';\r\n\r\n\r\nconst useStorage = (file) => {\r\n\tconst [progress, setProgress] = useState(0);\r\n\tconst [error, setError] = useState(null);\r\n\tconst [url, setUrl] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst storageRef = appStorage.ref(file.name);\r\n\t\tconst collectionRef = appFirestore.collection('images');\r\n\r\n\t\tstorageRef.put(file).on('state_changed', (snap)=> {\r\n\t\t\tlet percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n\t\t\tsetProgress(percentage);\r\n\t\t}, (err) => {\r\n\t\t\tsetError(err);\r\n\t\t}, async () => {\r\n\t\t\tconst uploadedUrl = await storageRef.getDownloadURL();\r\n\t\t\tsetUrl(uploadedUrl);\r\n\r\n\t\t\tcollectionRef.add({\r\n\t\t\t\turl: uploadedUrl,\r\n\t\t\t\ttimestamp: timestamp(),\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t}, [ file ]);\r\n\r\n\treturn { progress, url, error }\r\n\r\n}\r\n\r\nexport default useStorage;","import { useEffect } from 'react';\r\nimport useStorage from '../hooks/useStorage';\r\n\r\nconst ProgressBar = ({ file, setFile }) => {\r\n\r\n\tconst { url, progress } = useStorage(file);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (url) {\r\n\t\t\tsetFile(null);\r\n\t\t}\r\n\t}, [url, setFile]);\r\n\r\n\treturn (\r\n\t\t<div className=\"progress-bar\" >\r\n\t\t\t<span className=\"progress\" style={{ width: progress + '%' }} ></span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProgressBar","import { useState } from 'react'\r\n\r\nimport ProgressBar from './ProgressBar';\r\n\r\nconst UploadForm = () => {\r\n\r\n\tconst [file, setFile] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst changeHandler = (e) => {\r\n\t\tlet selected = e.target.files[0];\r\n\t\tif (selected) {\r\n\t\t\tsetFile(selected);\r\n\t\t\tsetError(null);\r\n\t\t} else {\r\n\t\t\tsetFile(null);\r\n\t\t\tsetError(\"Please select an image file\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<form className=\"upload-form\">\r\n\t\t\t<input type=\"file\" accept=\"image/*\" onChange={changeHandler} id=\"file__input\" />\r\n\t\t\t<label htmlFor=\"file__input\">+</label>\r\n\t\t\t<div className=\"messsage\">\r\n\t\t\t\t{error && <p className=\"error\">{ error }</p>}\r\n\t\t\t\t{file && <p className=\"file-name\">{file.name}</p>}\r\n\t\t\t\t{file && <ProgressBar file={file} setFile={setFile} />}\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default UploadForm","import {motion}  from 'framer-motion';\r\n\r\nconst Modal = ({ selectedImage, setSelectedImage }) => {\r\n\r\n\tconst handleClose =(e) => {\r\n\t\tif (e.target.classList.contains('modal')) {\r\n\t\t\tsetSelectedImage(null);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<motion.div className=\"modal\" onClick={handleClose} \r\n\t\t\tinitial={{opacity: 0}}\r\n\t\t\tanimate={{opacity: 1}}\r\n\t\t >\r\n\t\t\t<motion.img src={selectedImage} alt={selectedImage} \r\n\t\t\t\tinitial={{ y: '-100vh' }}\r\n\t\t\t\tanimate={{ y: 0 }}\r\n\t\t\t />\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n\r\nexport default Modal","import { useState } from 'react';\n\nimport './App.css';\n\nimport Header from './components/Header'\nimport ImagesContainer from './components/ImagesContainer'\nimport UploadForm from './components/UploadForm'\nimport Modal from './components/Modal'\n\nfunction App() {\n\n  const [selectedImage, setSelectedImage] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <UploadForm />\n      <ImagesContainer setSelectedImage={setSelectedImage} />\n      { selectedImage && <Modal selectedImage={selectedImage} setSelectedImage={setSelectedImage} /> }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}